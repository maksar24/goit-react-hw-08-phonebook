(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{15:function(e,t,a){e.exports={form:"RegisterView_form__3W744",label:"RegisterView_label__1ds6z",labelText:"RegisterView_labelText__3ZMfb",input:"RegisterView_input__3ngNK"}},18:function(e,t,a){e.exports={form:"LoginView_form__3wJh3",label:"LoginView_label__3hDm4",labelText:"LoginView_labelText__1ppvx",input:"LoginView_input__3UPkK"}},22:function(e,t,a){e.exports={link:"AuthNav_link__rQr67",activeLink:"AuthNav_activeLink__1YOI3"}},26:function(e,t,a){e.exports={container:"UserMenu_container__2vnX3",avatar:"UserMenu_avatar__hYEt7",name:"UserMenu_name__1pRVb"}},29:function(e,t,a){e.exports={link:"Navigation_link__1NJne",activeLink:"Navigation_activeLink__HCj5d"}},36:function(e,t,a){e.exports={container:"Container_container__34iIj"}},39:function(e,t,a){e.exports={header:"Appbar_header__1pdxX"}},40:function(e,t,a){e.exports={button:"Button_button__2RkNT"}},51:function(e,t,a){},52:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(23),s=a.n(r),i=a(17),o=a(6),l=a(35),u=(a(51),a(52),a(5)),d=a(36),b=a.n(d),j=a(1);function p(e){var t=e.children;return Object(j.jsx)("div",{className:b.a.container,children:t})}var m=a(29),h=a.n(m),O=function(){return Object(j.jsx)("nav",{children:Object(j.jsx)(i.b,{exact:!0,to:"/",className:h.a.link,activeClassName:h.a.activeLink,children:"Home"})})},x=a(22),g=a.n(x),f=function(){return Object(j.jsxs)("nav",{children:[Object(j.jsx)(i.b,{to:"/register",className:g.a.link,activeClassName:g.a.activeLink,children:"Sign up"}),Object(j.jsx)(i.b,{to:"/login",className:g.a.link,activeClassName:g.a.activeLink,children:"Log in"})]})},v=a(31),_=a.n(v),N=a(38),k=a(13),w=a(26),y=a.n(w),C=a.p+"static/media/DefaultPicture.a2822262.png",L={getIsLoggedIn:function(e){return e.auth.isLoggedIn},getUsername:function(e){return e.auth.user.name}},T=a(25),U=a(9),S=Object(T.a)({reducerPath:"auth",baseQuery:Object(U.d)({baseUrl:"https://connections-api.herokuapp.com",prepareHeaders:function(e,t){var a=(0,t.getState)().auth.token;return a&&e.set("authentication","Bearer ".concat(a)),e}}),tagTypes:["User"],endpoints:function(e){return{createUser:e.mutation({query:function(e){return{url:"/users/signup",method:"POST",body:e}},invalidatesTags:["User"]}),loginUser:e.mutation({query:function(e){return{url:"/users/login",method:"POST",body:e}},invalidatesTags:["User"]}),logoutUser:e.mutation({query:function(e){return{url:"/users/logout",method:"POST",body:e}},invalidatesTags:["User"]})}}}),M=S.useCreateUserMutation,P=S.useLoginUserMutation,E=S.useLogoutUserMutation;function I(){var e=E(),t=Object(k.a)(e,1)[0],a=Object(o.e)(L.getUsername),n=C,c=function(){var e=Object(N.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:y.a.container,children:[Object(j.jsx)("img",{src:n,alt:"",width:"32",className:y.a.avatar}),Object(j.jsxs)("span",{className:y.a.name,children:["Welcome, ",a]}),Object(j.jsx)("button",{type:"button",onClick:function(){return c()},children:"Log out"})]})}var V=a(39),q=a.n(V);function B(){var e=Object(o.e)(L.getIsLoggedIn);return Object(j.jsxs)("header",{className:q.a.header,children:[Object(j.jsx)(O,{}),e?Object(j.jsx)(I,{}):Object(j.jsx)(f,{})]})}var R=a.p+"static/media/Backdrop.db75e70e.png",D=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("img",{src:R,width:"100%",alt:""})})},A=a(40),F=a.n(A),J=function(e){var t=e.onLoadMore,a=e.contentBtn,n=e.disabled;return Object(j.jsx)("button",{disabled:n,onClick:t,className:F.a.button,children:a})};J.defaultProps={onLoadMore:function(){return null},disabled:!1};var Q=J,H=a(15),z=a.n(H);function K(){var e=M(),t=Object(k.a)(e,1)[0],a=Object(n.useState)(""),c=Object(k.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)(""),o=Object(k.a)(i,2),l=o[0],u=o[1],d=Object(n.useState)(""),b=Object(k.a)(d,2),p=b[0],m=b[1],h=function(e){var t=e.target,a=t.name,n=t.value;switch(a){case"name":return s(n);case"email":return u(n);case"password":return m(n);default:return}};return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({name:r,email:l,password:p}),s(""),u(""),m("")},className:z.a.form,autoComplete:"off",children:[Object(j.jsxs)("label",{className:z.a.label,children:[Object(j.jsx)("span",{className:z.a.labelText,children:"Name"}),Object(j.jsx)("input",{type:"text",name:"name",value:r,onChange:h,placeholder:"Enter name",className:z.a.input})]}),Object(j.jsxs)("label",{className:z.a.label,children:[Object(j.jsx)("span",{className:z.a.labelText,children:"Email"}),Object(j.jsx)("input",{type:"email",name:"email",value:l,onChange:h,placeholder:"Enter email",className:z.a.input})]}),Object(j.jsxs)("label",{className:z.a.label,children:[Object(j.jsx)("span",{className:z.a.labelText,children:"Password"}),Object(j.jsx)("input",{type:"password",name:"password",value:p,onChange:h,placeholder:"Enter password",className:z.a.input})]}),Object(j.jsx)(Q,{type:"submit",contentBtn:"Sign up"})]})})}var W=a(18),X=a.n(W);function Y(){var e=P(),t=Object(k.a)(e,1)[0],a=Object(n.useState)(""),c=Object(k.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)(""),o=Object(k.a)(i,2),l=o[0],u=o[1],d=function(e){var t=e.target,a=t.name,n=t.value;switch(a){case"email":return s(n);case"password":return u(n);default:return}};return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({email:r,password:l}),s(""),u("")},className:X.a.form,autoComplete:"off",children:[Object(j.jsxs)("label",{className:X.a.label,children:[Object(j.jsx)("span",{className:X.a.labelText,children:"Email"}),Object(j.jsx)("input",{type:"email",name:"email",value:r,onChange:d,placeholder:"Enter email",className:X.a.input})]}),Object(j.jsxs)("label",{className:X.a.label,children:[Object(j.jsx)("span",{className:X.a.labelText,children:"Password"}),Object(j.jsx)("input",{type:"password",name:"password",value:l,onChange:d,placeholder:"Enter password",className:X.a.input})]}),Object(j.jsx)(Q,{type:"submit",contentBtn:"Sign up"})]})})}function Z(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("h1",{children:"Contacts"})})}var G,$=function(){return Object(j.jsxs)(p,{children:[Object(j.jsx)(B,{}),Object(j.jsxs)(u.c,{children:[Object(j.jsx)(u.a,{exact:!0,path:"/",component:D}),Object(j.jsx)(u.a,{path:"/register",component:K}),Object(j.jsx)(u.a,{path:"/login",component:Y}),Object(j.jsx)(u.a,{path:"/contacts",component:Z})]})]})},ee=a(32),te=a(42),ae=a(2),ne=a(16),ce=Object(T.a)({reducerPath:"contactsApi",baseQuery:Object(U.d)({baseUrl:"https://connections-api.herokuapp.com"}),tagTypes:["Contacts"],endpoints:function(e){return{fetchContacts:e.query({query:function(){return"/contacts"},providesTags:["Contacts"]}),createContact:e.mutation({query:function(e){return{url:"/contacts",method:"POST",body:e}},invalidatesTags:["Contacts"]}),deleteContact:e.mutation({query:function(e){return{url:"/contacts/".concat(e),method:"DELETE"}},invalidatesTags:["Contacts"]})}}}),re=(ce.useFetchContactsQuery,ce.useDeleteContactMutation,ce.useCreateContactMutation,a(41)),se=a.n(re),ie=Object(ae.d)({name:"auth",initialState:{user:{name:null,email:null},token:null,isLoggedIn:!1},extraReducers:function(e){e.addMatcher(S.endpoints.createUser.matchFulfilled,(function(e,t){var a=t.payload;e.token=a.token,e.user=a.user,e.isLoggedIn=!0})).addMatcher(S.endpoints.loginUser.matchFulfilled,(function(e,t){var a=t.payload;e.token=a.token,e.user=a.user,e.isLoggedIn=!0})).addMatcher(S.endpoints.logoutUser.matchFulfilled,(function(e,t){e.user={name:null,email:null},e.token=null,e.isLoggedIn=!1}))}}),oe=[].concat(Object(te.a)(Object(ae.e)({serializableCheck:{ignoredActions:[ne.a,ne.f,ne.b,ne.c,ne.d,ne.e]}})),[ce.middleware]),le={key:"auth",storage:se.a,whitelist:["token"]},ue=Object(ae.a)({reducer:(G={},Object(ee.a)(G,S.reducerPath,Object(ne.g)(le,ie.reducer)),Object(ee.a)(G,ce.reducerPath,ce.reducer),G),middleware:oe,devTools:!1}),de=Object(ne.h)(ue);s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(o.a,{store:ue,children:Object(j.jsx)(l.a,{loading:null,persistor:de,children:Object(j.jsx)(i.a,{children:Object(j.jsx)($,{})})})})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.a9cca1fd.chunk.js.map