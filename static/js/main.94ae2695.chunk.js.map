{"version":3,"sources":["views/RegisterView/RegisterView.module.css","components/LoginForm/LoginForm.module.css","components/AuthNavigation/AuthNav.module.css","components/UserMenu/UserMenu.module.css","components/Navigation/Navigation.module.css","components/Container/Container.module.css","components/AppBar/Appbar.module.css","components/Button/Button.module.css","components/Container/Container.js","components/Navigation/Navigation.js","components/AuthNavigation/AuthNav.js","components/UserMenu/DefaultPicture.png","redux/auth/auth-selectors.js","redux/auth/auth-operation(axios).js","components/UserMenu/UserMenu.js","components/AppBar/AppBar.js","views/HomeView/Backdrop.png","views/HomeView/HomeView.js","components/Button/Button.js","views/RegisterView/RegisterView.js","components/LoginForm/LoginForm.js","views/LoginView/LoginView.js","views/ContactsView/ContactsView.js","App.js","redux/contacts/contacts-slice.js","redux/auth/auth-slice.js","redux/store.js","index.js"],"names":["module","exports","Container","children","className","styles","container","Navigation","exact","to","link","activeClassName","activeLink","AuthNav","getIsLoggedIn","state","userAuth","isLoggedIn","getUsername","user","name","axios","defaults","baseURL","token","headers","common","Authorization","signIn","createAsyncThunk","credentials","a","post","data","logIn","logOut","UserMenu","dispatch","useDispatch","useSelector","avatar","defaultAvatar","src","alt","width","type","onClick","AppBar","header","HomeView","backdrop","Button","onLoadMore","contentBtn","disabled","button","defaultProps","RegisterView","useState","setName","email","setEmail","password","setPassword","handleChange","target","value","onSubmit","e","preventDefault","form","autoComplete","label","labelText","onChange","placeholder","input","LoginForm","LoginView","ContactsView","App","path","component","contactsApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","tagTypes","endpoints","builder","fetchContacts","query","providesTags","createContact","mutation","newContacts","url","method","body","invalidatesTags","deleteContact","contactId","useFetchContactsQuery","useDeleteContactMutation","useCreateContactMutation","initialState","authSlice","createSlice","extraReducers","addCase","fulfilled","payload","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.94ae2695.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"RegisterView_form__3W744\",\"label\":\"RegisterView_label__1ds6z\",\"labelText\":\"RegisterView_labelText__3ZMfb\",\"input\":\"RegisterView_input__3ngNK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"LoginForm_form__26oKu\",\"label\":\"LoginForm_label__1Xydo\",\"labelText\":\"LoginForm_labelText__2sAx9\",\"input\":\"LoginForm_input__1FN1u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__rQr67\",\"activeLink\":\"AuthNav_activeLink__1YOI3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__2vnX3\",\"avatar\":\"UserMenu_avatar__hYEt7\",\"name\":\"UserMenu_name__1pRVb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__1NJne\",\"activeLink\":\"Navigation_activeLink__HCj5d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__34iIj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Appbar_header__1pdxX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2RkNT\"};","import styles from \"./Container.module.css\";\n\nexport default function Container({ children }) {\n  return <div className={styles.container}>{children}</div>;\n}\n","import { NavLink } from \"react-router-dom\";\nimport styles from \"./Navigation.module.css\";\n\nconst Navigation = () => {\n  return (\n    <nav>\n      <NavLink\n        exact\n        to=\"/\"\n        className={styles.link}\n        activeClassName={styles.activeLink}\n      >\n        Home\n      </NavLink>\n    </nav>\n  );\n};\n\nexport default Navigation;\n","import { NavLink } from \"react-router-dom\";\nimport styles from \"./AuthNav.module.css\";\n\nconst AuthNav = () => {\n  return (\n    <nav>\n      <NavLink\n        to=\"/register\"\n        className={styles.link}\n        activeClassName={styles.activeLink}\n      >\n        Sign up\n      </NavLink>\n      <NavLink\n        to=\"/login\"\n        className={styles.link}\n        activeClassName={styles.activeLink}\n      >\n        Log in\n      </NavLink>\n    </nav>\n  );\n};\n\nexport default AuthNav;\n","export default __webpack_public_path__ + \"static/media/DefaultPicture.a2822262.png\";","export const getIsLoggedIn = (state) => state.userAuth.isLoggedIn;\r\nexport const getUsername = (state) => state.userAuth.user.name;\r\n","import axios from \"axios\";\r\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = \"\";\r\n  },\r\n};\r\n\r\nexport const signIn = createAsyncThunk(\"auth/register\", async (credentials) => {\r\n  try {\r\n    const { data } = await axios.post(\"/users/signup\", credentials);\r\n    token.set(data.token);\r\n    return data;\r\n  } catch (error) {}\r\n});\r\n\r\nexport const logIn = createAsyncThunk(\"auth/login\", async (credentials) => {\r\n  try {\r\n    const { data } = await axios.post(\"/users/login\", credentials);\r\n    token.set(data.token);\r\n    return data;\r\n  } catch (error) {}\r\n});\r\n\r\nexport const logOut = createAsyncThunk(\"auth/logout\", async () => {\r\n  try {\r\n    await axios.post(\"/users/logout\");\r\n    token.unset();\r\n  } catch (error) {}\r\n});\r\n","import styles from \"./UserMenu.module.css\";\r\nimport defaultAvatar from \"./DefaultPicture.png\";\r\nimport { getUsername } from \"../../redux/auth/auth-selectors\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { logOut } from \"../../redux/auth/auth-operation(axios)\";\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(getUsername);\r\n  const avatar = defaultAvatar;\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <img src={avatar} alt=\"\" width=\"32\" className={styles.avatar} />\r\n      <span className={styles.name}>Welcome, {name}</span>\r\n      <button type=\"button\" onClick={() => dispatch(logOut())}>\r\n        Log out\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { useSelector } from \"react-redux\";\r\nimport Navigation from \"../Navigation/Navigation\";\r\nimport AuthNav from \"../AuthNavigation/AuthNav\";\r\nimport UserMenu from \"../UserMenu/UserMenu\";\r\nimport { getIsLoggedIn } from \"../../redux/auth/auth-selectors\";\r\nimport styles from \"./Appbar.module.css\";\r\n\r\nexport default function AppBar() {\r\n  const isLoggedIn = useSelector(getIsLoggedIn);\r\n\r\n  return (\r\n    <header className={styles.header}>\r\n      <Navigation />\r\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/Backdrop.db75e70e.png\";","import React from \"react\";\nimport backdrop from \"./Backdrop.png\";\n\nconst HomeView = () => {\n  return (\n    <div>\n      <img src={backdrop} width=\"100%\" alt=\"\" />\n    </div>\n  );\n};\n\nexport default HomeView;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./Button.module.css\";\n\nconst Button = ({ onLoadMore, contentBtn, disabled }) => (\n  <button disabled={disabled} onClick={onLoadMore} className={styles.button}>\n    {contentBtn}\n  </button>\n);\n\nButton.defaultProps = {\n  onLoadMore: () => null,\n  disabled: false,\n};\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func,\n  contentBtn: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n};\n\nexport default Button;\n","import { useState } from \"react\";\r\nimport { signIn } from \"../../redux/auth/auth-operation(axios)\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Button from \"../../components/Button/Button\";\r\nimport styles from \"./RegisterView.module.css\";\r\n\r\nexport default function RegisterView() {\r\n  const dispatch = useDispatch();\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const handleChange = ({ target: { name, value } }) => {\r\n    switch (name) {\r\n      case \"name\":\r\n        return setName(value);\r\n      case \"email\":\r\n        return setEmail(value);\r\n      case \"password\":\r\n        return setPassword(value);\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(signIn({ name, email, password }));\r\n    setName(\"\");\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit} className={styles.form} autoComplete=\"off\">\r\n        <label className={styles.label}>\r\n          <span className={styles.labelText}>Name</span>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={name}\r\n            onChange={handleChange}\r\n            placeholder=\"Enter name\"\r\n            className={styles.input}\r\n          />\r\n        </label>\r\n\r\n        <label className={styles.label}>\r\n          <span className={styles.labelText}>Email</span>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={email}\r\n            onChange={handleChange}\r\n            placeholder=\"Enter email\"\r\n            className={styles.input}\r\n          />\r\n        </label>\r\n\r\n        <label className={styles.label}>\r\n          <span className={styles.labelText}>Password</span>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={password}\r\n            onChange={handleChange}\r\n            placeholder=\"Enter password\"\r\n            className={styles.input}\r\n          />\r\n        </label>\r\n\r\n        <Button type=\"submit\" contentBtn=\"Sign up\" />\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { logIn } from \"../../redux/auth/auth-operation(axios)\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getIsLoggedIn } from \"../../redux/auth/auth-selectors\";\r\nimport Button from \"../Button/Button\";\r\nimport styles from \"./LoginForm.module.css\";\r\n\r\nexport default function LoginForm() {\r\n  const dispatch = useDispatch();\r\n  const isLoggedIn = useSelector(getIsLoggedIn);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const handleChange = ({ target: { name, value } }) => {\r\n    switch (name) {\r\n      case \"email\":\r\n        return setEmail(value);\r\n      case \"password\":\r\n        return setPassword(value);\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(logIn({ email, password }));\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {!isLoggedIn && (\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          className={styles.form}\r\n          autoComplete=\"off\"\r\n        >\r\n          <label className={styles.label}>\r\n            <span className={styles.labelText}>Email</span>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={handleChange}\r\n              placeholder=\"Enter email\"\r\n              className={styles.input}\r\n            />\r\n          </label>\r\n\r\n          <label className={styles.label}>\r\n            <span className={styles.labelText}>Password</span>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={handleChange}\r\n              placeholder=\"Enter password\"\r\n              className={styles.input}\r\n            />\r\n          </label>\r\n\r\n          <Button type=\"submit\" contentBtn=\"Sign up\" />\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import LoginForm from \"../../components/LoginForm/LoginForm\";\r\n\r\nconst LoginView = () => {\r\n  return (\r\n    <div>\r\n      <LoginForm></LoginForm>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginView;\r\n","import React from \"react\";\n\nexport default function ContactsView() {\n  return (\n    <>\n      <h1>Contacts</h1>\n    </>\n  );\n}\n","import \"./App.css\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Container from \"./components/Container/Container\";\nimport AppBar from \"./components/AppBar/AppBar\";\nimport HomeView from \"./views/HomeView/HomeView\";\nimport RegisterView from \"./views/RegisterView/RegisterView\";\nimport LoginView from \"./views/LoginView/LoginView\";\nimport ContactsView from \"./views/ContactsView/ContactsView\";\n\nfunction App() {\n  return (\n    <Container>\n      <AppBar />\n\n      <Switch>\n        <Route exact path=\"/\" component={HomeView} />\n        <Route path=\"/register\" component={RegisterView} />\n        <Route path=\"/login\" component={LoginView} />\n        <Route path=\"/contacts\" component={ContactsView} />\n      </Switch>\n    </Container>\n  );\n}\n\nexport default App;\n","import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\n\nexport const contactsApi = createApi({\n  reducerPath: \"contactsApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl: \"https://connections-api.herokuapp.com\",\n  }),\n  tagTypes: [\"Contacts\"],\n  endpoints: (builder) => ({\n    fetchContacts: builder.query({\n      query: () => \"/contacts\",\n      providesTags: [\"Contacts\"],\n    }),\n    createContact: builder.mutation({\n      query: (newContacts) => ({\n        url: \"/contacts\",\n        method: \"POST\",\n        body: newContacts,\n      }),\n      invalidatesTags: [\"Contacts\"],\n    }),\n    deleteContact: builder.mutation({\n      query: (contactId) => ({\n        url: `/contacts/${contactId}`,\n        method: \"DELETE\",\n      }),\n      invalidatesTags: [\"Contacts\"],\n    }),\n  }),\n});\n\nexport const {\n  useFetchContactsQuery,\n  useDeleteContactMutation,\n  useCreateContactMutation,\n} = contactsApi;\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { logIn, logOut, signIn } from \"./auth-operation(axios)\";\r\n\r\nconst initialState = {\r\n  user: { name: null, email: null },\r\n  token: null,\r\n  isLoggedIn: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState,\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(signIn.fulfilled, (state, { payload }) => {\r\n        state.token = payload.token;\r\n        state.user = payload.user;\r\n        state.isLoggedIn = true;\r\n      })\r\n      .addCase(logIn.fulfilled, (state, { payload }) => {\r\n        state.token = payload.token;\r\n        state.user = payload.user;\r\n        state.isLoggedIn = true;\r\n      })\r\n      .addCase(logOut.fulfilled, (state) => {\r\n        state.user = initialState;\r\n        state.token = initialState.token;\r\n        state.isLoggedIn = false;\r\n      });\r\n  },\r\n});\r\n\r\nexport default authSlice.reducer;\r\n\r\n// const authSlice = createSlice({\r\n//   name: \"auth\",\r\n//   initialState,\r\n//   extraReducers: (builder) => {\r\n//     builder\r\n//       .addMatcher(\r\n//         userAuth.endpoints.createUser.matchFulfilled,\r\n//         (state, { payload }) => {\r\n//           state.token = payload.token;\r\n//           state.user = payload.user;\r\n//           state.isLoggedIn = true;\r\n//         }\r\n//       )\r\n//       .addMatcher(\r\n//         userAuth.endpoints.loginUser.matchFulfilled,\r\n//         (state, { payload }) => {\r\n//           state.token = payload.token;\r\n//           state.user = payload.user;\r\n//           state.isLoggedIn = true;\r\n//         }\r\n//       )\r\n//       .addMatcher(\r\n//         userAuth.endpoints.logoutUser.matchFulfilled,\r\n//         (state) => {\r\n//             state.user = initialState;\r\n//             state.token = initialState.token;\r\n//             state.isLoggedIn = false;\r\n//         }\r\n//       );\r\n//   },\r\n// });\r\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport { contactsApi } from \"./contacts/contacts-slice\";\r\n// import { userAuth } from \"./auth/auth-operations\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport authSlice from \"./auth/auth-slice\";\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  contactsApi.middleware,\r\n];\r\n\r\nconst authPersistConfig = {\r\n  key: \"auth\",\r\n  storage,\r\n  whitelist: [\"token\"],\r\n};\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    userAuth: persistReducer(authPersistConfig, authSlice),\r\n    [contactsApi.reducerPath]: contactsApi.reducer,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === \"development\",\r\n});\r\n\r\nexport const persistor = persistStore(store);\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { persistor, store } from \"./redux/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}