{"version":3,"sources":["components/Container/Container.js","components/Navigation/Navigation.js","components/AuthNavigation/AuthNav.js","components/UserMenu/DefaultPicture.png","components/UserMenu/UserMenu.js","components/AppBar/AppBar.js","components/Routes/PrivetRoute.js","components/Routes/PublicRoute.js","App.js","redux/auth/auth-slice.js","redux/contacts/contacts-reducers.js","redux/store.js","index.js","redux/auth/auth-selectors.js","redux/auth/auth-operation(axios).js","components/Navigation/Navigation.module.css","components/AuthNavigation/AuthNav.module.css","components/UserMenu/UserMenu.module.css","components/Loader/Loader.js","redux/contacts/contacts-actions.js","components/Container/Container.module.css","components/AppBar/Appbar.module.css","components/Loader/Loader.module.css","redux/contacts/contacts-operations(axios).js"],"names":["Container","children","className","styles","container","Navigation","isLoggedIn","useSelector","getIsLoggedIn","exact","to","link","activeClassName","activeLink","AuthNav","UserMenu","dispatch","useDispatch","name","getUsername","avatar","defaultAvatar","src","alt","width","type","onClick","logOut","AppBar","header","PrivetRouter","redirectTo","routeProps","PublicRoute","restricted","shouldRedirect","HomeView","lazy","RegisterView","LoginView","ContactsView","App","isRefreshing","getIsRefreshing","useEffect","fetchCurrentUser","fallback","path","initialState","user","email","token","authSlice","createSlice","extraReducers","builder","addCase","signIn","fulfilled","state","payload","logIn","pending","rejected","entities","createReducer","fetchContactsAction","_","data","addContactAction","deleteContactAction","filter","id","isLoading","error","changeFilter","combineReducers","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","userAuth","persistReducer","contacts","contactsReducers","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById","axios","defaults","baseURL","headers","common","Authorization","createAsyncThunk","credentials","a","post","getState","rejectWithValue","persistedToken","get","module","exports","CustomLoader","Loader","color","height","timeout","createAction","console","log","message","contact","delete"],"mappings":"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","file":"static/js/main.5a82abb8.chunk.js","sourcesContent":["import styles from \"./Container.module.css\";\n\nexport default function Container({ children }) {\n  return <div className={styles.container}>{children}</div>;\n}\n","import { NavLink } from \"react-router-dom\";\r\nimport styles from \"./Navigation.module.css\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getIsLoggedIn } from \"../../redux/auth/auth-selectors\";\r\n\r\nconst Navigation = () => {\r\n  const isLoggedIn = useSelector(getIsLoggedIn);\r\n\r\n  return (\r\n    <nav>\r\n      <NavLink\r\n        exact\r\n        to=\"/\"\r\n        className={styles.link}\r\n        activeClassName={styles.activeLink}\r\n      >\r\n        Home\r\n      </NavLink>\r\n\r\n      {isLoggedIn && (\r\n        <NavLink\r\n          to=\"/contacts\"\r\n          className={styles.link}\r\n          activeClassName={styles.activeLink}\r\n        >\r\n          Contacts\r\n        </NavLink>\r\n      )}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import { NavLink } from \"react-router-dom\";\nimport styles from \"./AuthNav.module.css\";\n\nconst AuthNav = () => {\n  return (\n    <nav>\n      <NavLink\n        to=\"/register\"\n        className={styles.link}\n        activeClassName={styles.activeLink}\n      >\n        Sign up\n      </NavLink>\n      <NavLink\n        to=\"/login\"\n        className={styles.link}\n        activeClassName={styles.activeLink}\n      >\n        Log in\n      </NavLink>\n    </nav>\n  );\n};\n\nexport default AuthNav;\n","export default __webpack_public_path__ + \"static/media/DefaultPicture.a2822262.png\";","import styles from \"./UserMenu.module.css\";\r\nimport defaultAvatar from \"./DefaultPicture.png\";\r\nimport { getUsername } from \"../../redux/auth/auth-selectors\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { logOut } from \"../../redux/auth/auth-operation(axios)\";\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(getUsername);\r\n  const avatar = defaultAvatar;\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <img src={avatar} alt=\"\" width=\"32\" className={styles.avatar} />\r\n      <span className={styles.name}>Welcome, {name}</span>\r\n      <button type=\"button\" onClick={() => dispatch(logOut())}>\r\n        Log out\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { useSelector } from \"react-redux\";\nimport Navigation from \"../Navigation/Navigation\";\nimport AuthNav from \"../AuthNavigation/AuthNav\";\nimport UserMenu from \"../UserMenu/UserMenu\";\nimport { getIsLoggedIn } from \"../../redux/auth/auth-selectors\";\nimport styles from \"./Appbar.module.css\";\n\nexport default function AppBar() {\n  const isLoggedIn = useSelector(getIsLoggedIn);\n\n  return (\n    <header className={styles.header}>\n      <Navigation />\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\n    </header>\n  );\n}\n","import { Route, Redirect } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getIsLoggedIn } from \"../../redux/auth/auth-selectors\";\r\n\r\nexport default function PrivetRouter({\r\n  children,\r\n  redirectTo = \"/\",\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(getIsLoggedIn);\r\n\r\n  return (\r\n    <Route {...routeProps}>\r\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\r\n    </Route>\r\n  );\r\n}\r\n","import { Route, Redirect } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getIsLoggedIn } from \"../../redux/auth/auth-selectors\";\r\n\r\nexport default function PublicRoute({\r\n  children,\r\n  restricted = false,\r\n  redirectTo = \"/\",\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(getIsLoggedIn);\r\n  const shouldRedirect = isLoggedIn && restricted;\r\n\r\n  return (\r\n    <Route {...routeProps}>\r\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\r\n    </Route>\r\n  );\r\n}\r\n","import \"./App.css\";\r\nimport { lazy, Suspense, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Switch } from \"react-router-dom\";\r\nimport Container from \"./components/Container/Container\";\r\nimport AppBar from \"./components/AppBar/AppBar\";\r\nimport { CustomLoader } from \"./components/Loader/Loader\";\r\nimport { fetchCurrentUser } from \"./redux/auth/auth-operation(axios)\";\r\nimport PrivetRouter from \"./components/Routes/PrivetRoute\";\r\nimport PublicRoute from \"./components/Routes/PublicRoute\";\r\nimport { getIsRefreshing } from \"./redux/auth/auth-selectors\";\r\n\r\nconst HomeView = lazy(() =>\r\n  import(\"./views/HomeView/HomeView\" /* webpackChunkName: \"home-page\"*/)\r\n);\r\nconst RegisterView = lazy(() =>\r\n  import(\r\n    \"./views/RegisterView/RegisterView\" /* webpackChunkName: \"registration-page\"*/\r\n  )\r\n);\r\nconst LoginView = lazy(() =>\r\n  import(\"./views/LoginView/LoginView\" /* webpackChunkName: \"login-page\"*/)\r\n);\r\nconst ContactsView = lazy(() =>\r\n  import(\r\n    \"./views/ContactsView/ContactsView\" /* webpackChunkName: \"contacts-page\"*/\r\n  )\r\n);\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  const isRefreshing = useSelector(getIsRefreshing);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchCurrentUser());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    !isRefreshing && (\r\n      <Container>\r\n        <AppBar />\r\n\r\n        <Switch>\r\n          <Suspense fallback={<CustomLoader />}>\r\n            <PublicRoute path=\"/\" exact>\r\n              <HomeView />\r\n            </PublicRoute>\r\n            <PublicRoute path=\"/register\" restricted redirectTo=\"/contacts\">\r\n              <RegisterView />\r\n            </PublicRoute>\r\n            <PublicRoute path=\"/login\" restricted redirectTo=\"/contacts\">\r\n              <LoginView />\r\n            </PublicRoute>\r\n            <PrivetRouter path=\"/contacts\" redirectTo=\"/login\">\r\n              <ContactsView />\r\n            </PrivetRouter>\r\n          </Suspense>\r\n        </Switch>\r\n      </Container>\r\n    )\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport {\r\n  logIn,\r\n  logOut,\r\n  signIn,\r\n  fetchCurrentUser,\r\n} from \"./auth-operation(axios)\";\r\n\r\nconst initialState = {\r\n  user: { name: null, email: null },\r\n  token: null,\r\n  isLoggedIn: false,\r\n  isRefreshing: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState,\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(signIn.fulfilled, (state, { payload }) => {\r\n        state.token = payload.token;\r\n        state.user = payload.user;\r\n        state.isLoggedIn = true;\r\n      })\r\n      .addCase(logIn.fulfilled, (state, { payload }) => {\r\n        state.token = payload.token;\r\n        state.user = payload.user;\r\n        state.isLoggedIn = true;\r\n      })\r\n      .addCase(logOut.fulfilled, (state) => {\r\n        state.user = initialState;\r\n        state.token = initialState.token;\r\n        state.isLoggedIn = false;\r\n      })\r\n      .addCase(fetchCurrentUser.pending, (state) => {\r\n        state.isRefreshing = true;\r\n      })\r\n      .addCase(fetchCurrentUser.fulfilled, (state, { payload }) => {\r\n        state.user = payload;\r\n        state.isLoggedIn = true;\r\n        state.isRefreshing = false;\r\n      })\r\n      .addCase(fetchCurrentUser.rejected, (state) => {\r\n        state.isRefreshing = false;\r\n      });\r\n  },\r\n});\r\n\r\nexport default authSlice.reducer;\r\n\r\n// const authSlice = createSlice({\r\n//   name: \"auth\",\r\n//   initialState,\r\n//   extraReducers: (builder) => {\r\n//     builder\r\n//       .addMatcher(\r\n//         userAuth.endpoints.createUser.matchFulfilled,\r\n//         (state, { payload }) => {\r\n//           state.token = payload.token;\r\n//           state.user = payload.user;\r\n//           state.isLoggedIn = true;\r\n//         }\r\n//       )\r\n//       .addMatcher(\r\n//         userAuth.endpoints.loginUser.matchFulfilled,\r\n//         (state, { payload }) => {\r\n//           state.token = payload.token;\r\n//           state.user = payload.user;\r\n//           state.isLoggedIn = true;\r\n//         }\r\n//       )\r\n//       .addMatcher(\r\n//         userAuth.endpoints.logoutUser.matchFulfilled,\r\n//         (state) => {\r\n//             state.user = initialState;\r\n//             state.token = initialState.token;\r\n//             state.isLoggedIn = false;\r\n//         }\r\n//       );\r\n//   },\r\n// });\r\n","import { combineReducers } from \"redux\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\nimport { changeFilter } from \"./contacts-actions\";\r\nimport {\r\n  fetchContactsAction,\r\n  addContactAction,\r\n  deleteContactAction,\r\n} from \"./contacts-operations(axios)\";\r\n\r\nconst entities = createReducer([], {\r\n  [fetchContactsAction.fulfilled]: (_, { payload }) => payload.data,\r\n  [addContactAction.fulfilled]: (state, { payload }) => [\r\n    ...state,\r\n    payload.data,\r\n  ],\r\n  [deleteContactAction.fulfilled]: (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst isLoading = createReducer(false, {\r\n  [fetchContactsAction.pending]: () => true,\r\n  [fetchContactsAction.fulfilled]: () => false,\r\n  [fetchContactsAction.rejected]: () => false,\r\n  [deleteContactAction.fulfilled]: () => false,\r\n  [deleteContactAction.pending]: () => true,\r\n  [deleteContactAction.rejected]: () => false,\r\n  [addContactAction.fulfilled]: () => false,\r\n  [addContactAction.pending]: () => true,\r\n  [addContactAction.rejected]: () => false,\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [fetchContactsAction.rejected]: (_, { payload }) => payload,\r\n  [fetchContactsAction.pending]: () => null,\r\n  [addContactAction.pending]: () => null,\r\n  [addContactAction.rejected]: (_, { payload }) => payload,\r\n  [deleteContactAction.pending]: () => null,\r\n  [deleteContactAction.rejected]: (_, { payload }) => payload,\r\n});\r\n\r\nconst filter = createReducer(\"\", {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nexport default combineReducers({ entities, isLoading, error, filter });\r\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\n// import { contactsApi } from \"./contacts/contacts-slice\";\r\n// import { userAuth } from \"./auth/auth-operations\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport authSlice from \"./auth/auth-slice\";\r\nimport contactsReducers from \"./contacts/contacts-reducers\";\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n];\r\n\r\nconst authPersistConfig = {\r\n  key: \"userAuth\",\r\n  storage,\r\n  whitelist: [\"token\"],\r\n};\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    userAuth: persistReducer(authPersistConfig, authSlice),\r\n    contacts: contactsReducers,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === \"development\",\r\n});\r\n\r\nexport const persistor = persistStore(store);\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { persistor, store } from \"./redux/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","export const getIsLoggedIn = (state) => state.userAuth.isLoggedIn;\r\nexport const getUsername = (state) => state.userAuth.user.name;\r\nexport const getIsRefreshing = (state) => state.userAuth.isRefreshing;\r\n","import axios from \"axios\";\r\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = \"\";\r\n  },\r\n};\r\n\r\nexport const signIn = createAsyncThunk(\"auth/register\", async (credentials) => {\r\n  try {\r\n    const { data } = await axios.post(\"/users/signup\", credentials);\r\n    token.set(data.token);\r\n    return data;\r\n  } catch (error) {}\r\n});\r\n\r\nexport const logIn = createAsyncThunk(\"auth/login\", async (credentials) => {\r\n  try {\r\n    const { data } = await axios.post(\"/users/login\", credentials);\r\n    token.set(data.token);\r\n    return data;\r\n  } catch (error) {}\r\n});\r\n\r\nexport const logOut = createAsyncThunk(\"auth/logout\", async () => {\r\n  try {\r\n    await axios.post(\"/users/logout\");\r\n    token.unset();\r\n  } catch (error) {}\r\n});\r\n\r\nexport const fetchCurrentUser = createAsyncThunk(\r\n  \"auth/refresh\",\r\n  async (_, { getState, rejectWithValue }) => {\r\n    const state = getState();\r\n    const persistedToken = state.userAuth.token;\r\n\r\n    if (persistedToken === null) {\r\n      return rejectWithValue();\r\n    }\r\n\r\n    token.set(persistedToken);\r\n\r\n    try {\r\n      const { data } = await axios.get(\"/users/current\");\r\n      return data;\r\n    } catch (error) {}\r\n  }\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__1NJne\",\"activeLink\":\"Navigation_activeLink__HCj5d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__rQr67\",\"activeLink\":\"AuthNav_activeLink__1YOI3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__2vnX3\",\"avatar\":\"UserMenu_avatar__hYEt7\",\"name\":\"UserMenu_name__1pRVb\"};","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport styles from \"./Loader.module.css\";\r\n\r\nexport const CustomLoader = () => {\r\n  return (\r\n    <Loader\r\n      className={styles.Loader}\r\n      type=\"Rings\"\r\n      color=\"#00FA9A\"\r\n      height={400}\r\n      width={500}\r\n      timeout={3000}\r\n    />\r\n  );\r\n};\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const changeFilter = createAction(\"contacts/changeFilter\");\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__34iIj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Appbar_header__1pdxX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__g4T21\"};","import axios from \"axios\";\r\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\nexport const fetchContactsAction = createAsyncThunk(\r\n  \"contacts/fetchContacts\",\r\n  async () => {\r\n    try {\r\n      return await axios.get(\"/contacts\");\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  }\r\n);\r\n\r\nexport const addContactAction = createAsyncThunk(\r\n  \"contacts/addContacts\",\r\n  async (contact) => {\r\n    try {\r\n      return await axios.post(\"/contacts\", contact);\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  }\r\n);\r\n\r\nexport const deleteContactAction = createAsyncThunk(\r\n  \"contacts/deleteContacts\",\r\n  async (id) => {\r\n    try {\r\n      await axios.delete(`/contacts/${id}`);\r\n      return id;\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  }\r\n);\r\n"],"sourceRoot":""}